{"sourceUrl": "https://jlelse.blog/dev/auto-blogroll-hugo/", "targetUrl": "https://desmondrivet.com/", "parsedSource": {"items": [{"type": ["h-entry"], "properties": {"name": ["How I automatically create my blogroll"], "published": ["2020-01-28 20:10"], "url": ["https://jlelse.blog/dev/auto-blogroll-hugo/"], "content": [{"html": "<p>I just updated <a href=\"/blogroll/\">my blogroll</a> and thought that it might be a great idea to share my workflow to do exactly that.</p><p><a href=\"/posts/miniflux/\">I use Miniflux a lot</a>. Using Miniflux, I read all the blogs and get all the news, <a href=\"https://jlelse.blog/posts/youtube-rss/\" target=\"_blank\">get updates from all the YouTubers</a> and even subscribe to some Mastodon accounts (<a href=\"https://en.wikipedia.org/wiki/Fediverse\" target=\"_blank\">fediverse</a> microblogs). I use multiple categories to sort the feeds. One of those categories is \u201cBlogs\u201d with all the blogs, which I also list on my blogroll.</p><p>The list of blogs I follow is always evolving. Sometimes I find new sites to follow, so I add their feeds to the list of subscriptions and put them into the \u201cBlogs\u201d category. Sometimes I also unsubscribe from feeds when they are inactive or if I\u2019m not that much interested into them anymore (it can have multiple reasons).</p><p>To keep my blogroll up-to-date and to avoid having to manually compare and adjust the list with the list from Miniflux when updating it, it is automatically created using a <a href=\"https://gohugo.io/content-management/shortcodes/\" target=\"_blank\">Hugo shortcode</a>.</p><p>First, I create an OPML export from my Miniflux subscriptions. This can be easily done by going to \u201cSubscriptions\u201d and then clicking on \u201cExport\u201d. I open the download with a text editor and remove all the categories that aren\u2019t \u201cBlogs\u201d. I copy the remaining OPML code and convert it to JSON using <a href=\"http://beautifytools.com/opml-to-json-converter.php\" target=\"_blank\">this tool</a>. This JSON I store in a file named <code>opml.json</code> in the <code>data</code> folder of my <a href=\"https://gohugo.io/\" target=\"_blank\">Hugo</a>-based blog.</p><p>In the <code>layouts/shortcodes</code> folder, I created a shortcode template named <code>blogroll.html</code> with the following content:</p><div class=\"highlight\"><pre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-go-html-template\" data-lang=\"go-html-template\">&lt;<span style=\"color:#f92672\">ul</span>&gt;\n    <span style=\"color:#75715e\">{{</span> <span style=\"color:#a6e22e\">$opmlJson</span> <span style=\"color:#f92672\">:=</span> <span style=\"color:#66d9ef\">index</span> <span style=\"color:#a6e22e\">.Site.Data.opml</span> <span style=\"color:#e6db74\">\"opml\"</span> <span style=\"color:#e6db74\">\"body\"</span> <span style=\"color:#e6db74\">\"outline\"</span> <span style=\"color:#e6db74\">\"outline\"</span> <span style=\"color:#75715e\">}}</span>\n    <span style=\"color:#75715e\">{{</span> <span style=\"color:#66d9ef\">range</span> <span style=\"color:#a6e22e\">sort</span> <span style=\"color:#a6e22e\">$opmlJson</span> <span style=\"color:#e6db74\">\"_title\"</span> <span style=\"color:#e6db74\">\"asc\"</span> <span style=\"color:#75715e\">}}</span>\n    &lt;<span style=\"color:#f92672\">li</span>&gt;&lt;<span style=\"color:#f92672\">a</span> <span style=\"color:#a6e22e\">href</span><span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">\"</span><span style=\"color:#75715e\">{{</span> <span style=\"color:#a6e22e\">._htmlUrl</span> <span style=\"color:#75715e\">}}</span><span style=\"color:#e6db74\">\"</span> <span style=\"color:#a6e22e\">target</span><span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">\"_blank\"</span>&gt;<span style=\"color:#75715e\">{{</span> <span style=\"color:#a6e22e\">._title</span> <span style=\"color:#75715e\">}}</span>&lt;/<span style=\"color:#f92672\">a</span>&gt;&lt;/<span style=\"color:#f92672\">li</span>&gt;\n    <span style=\"color:#75715e\">{{</span> <span style=\"color:#66d9ef\">end</span> <span style=\"color:#75715e\">}}</span>\n&lt;/<span style=\"color:#f92672\">ul</span>&gt;\n</code></pre></div><p>This shortcode is then used by adding <code></code></p><ul><li><code><a href=\"https://anildash.com/\" target=\"_blank\">Anil Dash</a></code></li><li><code><a href=\"https://ar.al/\" target=\"_blank\">Aral Balkan</a></code></li><li><code><a href=\"https://ashfurrow.com\" target=\"_blank\">Ash Furrow</a></code></li><li><code><a href=\"https://beko.famkos.net/\" target=\"_blank\">Beko Pharm</a></code></li><li><code><a href=\"https://benjamincongdon.me/\" target=\"_blank\">Ben Congdon</a></code></li><li><code><a href=\"https://werd.io/\" target=\"_blank\">Ben Werdm\u00fcller</a></code></li><li><code><a href=\"https://bnolet.me/\" target=\"_blank\">Brandon Nolet</a></code></li><li><code><a href=\"https://boffosocko.com\" target=\"_blank\">Chris Aldrich</a></code></li><li><code><a href=\"https://www.ctrl.blog/\" target=\"_blank\">Daniel Aleksandersen</a></code></li><li><code><a href=\"https://dannyvankooten.com/\" target=\"_blank\">Danny van Kooten</a></code></li><li><code><a href=\"https://m.signalvnoise.com/author/dhh/\" target=\"_blank\">David Heinemeier Hansson</a></code></li><li><code><a href=\"https://www.davd.io/\" target=\"_blank\">David Prandzioch</a></code></li><li><code><a href=\"https://sivers.org/en.atom\" target=\"_blank\">Derek Sivers</a></code></li><li><code><a href=\"https://desmondrivet.com/\" target=\"_blank\">Desmond Rivet</a></code></li><li><code><a href=\"https://drewdevault.com\" target=\"_blank\">Drew DeVault</a></code></li><li><code><a href=\"https://emanuelpina.pt/\" target=\"_blank\">Emanuel Pina</a></code></li><li><code><a href=\"http://f5n.org\" target=\"_blank\">Florian Anderiasch</a></code></li><li><code><a href=\"https://garrettdimon.com/\" target=\"_blank\">Garrett Dimon</a></code></li><li><code><a href=\"https://hacdias.com/\" target=\"_blank\">Henrique Dias</a></code></li><li><code><a href=\"http://shime.sh\" target=\"_blank\">Hrvoje \u0160imi\u0107</a></code></li><li><code><a href=\"https://jfenn.me\" target=\"_blank\">James Fenn</a></code></li><li><code><a href=\"https://jamiesnotes.com/\" target=\"_blank\">Jamie Adams</a></code></li><li><code><a href=\"https://www.jvt.me/\" target=\"_blank\">Jamie Tanna</a></code></li><li><code><a href=\"https://janboddez.tech\" target=\"_blank\">Jan Boddez</a></code></li><li><code><a href=\"https://blog.codinghorror.com/\" target=\"_blank\">Jeff Atwood</a></code></li><li><code><a href=\"https://adactio.com/articles/\" target=\"_blank\">Jeremy Keith (Articles)</a></code></li><li><code><a href=\"https://adactio.com/journal/\" target=\"_blank\">Jeremy Keith (Journal)</a></code></li><li><code><a href=\"https://blog.jessfraz.com\" target=\"_blank\">Jessie Frazelle</a></code></li><li><code><a href=\"https://daringfireball.net/\" target=\"_blank\">John Gruber</a></code></li><li><code><a href=\"https://jborichevskiy.com/\" target=\"_blank\">Jonathan Borichevskiy</a></code></li><li><code><a href=\"https://cleverdevil.io\" target=\"_blank\">Jonathan LaCour</a></code></li><li><code><a href=\"https://www.justinvollmer.com\" target=\"_blank\">Justin Vollmer</a></code></li><li><code><a href=\"https://kattascha.de\" target=\"_blank\">Katharina Nocun</a></code></li><li><code><a href=\"https://kevq.uk\" target=\"_blank\">Kev Quirk</a></code></li><li><code><a href=\"https://www.kylepiira.com\" target=\"_blank\">Kyle Piira</a></code></li><li><code><a href=\"https://laurakalbag.com/\" target=\"_blank\">Laura Kalbag</a></code></li><li><code><a href=\"https://lukasrosenstock.net/\" target=\"_blank\">Lukas Rosenstock</a></code></li><li><code><a href=\"https://write.as/matt/\" target=\"_blank\">Matt Baer</a></code></li><li><code><a href=\"https://matthiasott.com/rss\" target=\"_blank\">Matthias Ott</a></code></li><li><code><a href=\"https://notiz.blog/\" target=\"_blank\">Matthias Pfefferle</a></code></li><li><code><a href=\"https://mxb.dev\" target=\"_blank\">Max B\u00f6ck</a></code></li><li><code><a href=\"https://www.kuketz-blog.de\" target=\"_blank\">Mike Kuketz</a></code></li><li><code><a href=\"http://tonsky.me/\" target=\"_blank\">Nikita Prokopov</a></code></li><li><code><a href=\"https://nolanlawson.com\" target=\"_blank\">Nolan Lawson</a></code></li><li><code><a href=\"https://char.gd/\" target=\"_blank\">Owen Williams</a></code></li><li><code><a href=\"https://paulrobertlloyd.com\" target=\"_blank\">Paul Robert Lloyd</a></code></li><li><code><a href=\"https://knuspermagier.de\" target=\"_blank\">Philipp Waldhauer</a></code></li><li><code><a href=\"https://rahulchowdhury.co/\" target=\"_blank\">Rahul Chowdhury</a></code></li><li><code><a href=\"https://remysharp.com\" target=\"_blank\">Remy Sharp</a></code></li><li><code><a href=\"https://angristan.xyz/\" target=\"_blank\">Stanislas Lange</a></code></li><li><code><a href=\"https://linuxrig.com\" target=\"_blank\">Steven Ovadia</a></code></li><li><code><a href=\"https://annualbeta.com/\" target=\"_blank\">S\u00f8ren Birkemeyer</a></code></li><li><code><a href=\"https://www.timothychambers.net/\" target=\"_blank\">Tim Chambers</a></code></li><li><code><a href=\"https://www.zugreiseblog.de\" target=\"_blank\">Zugreiseblog</a></code></li><li><code><a href=\"https://zheanoblog.eu\" target=\"_blank\">\u017dan \u010cerne</a></code></li></ul>in the blogroll content file.<p></p><p>In the end, all I have to do to update my blogroll is update the <code>opml.json</code> file and update the <code>lastmod</code> frontmatter parameter in the blogroll content file.</p><p><a href=\"/blogroll/\">Check out my blogroll!</a></p>", "value": "I just updated my blogroll and thought that it might be a great idea to share my workflow to do exactly that.\nI use Miniflux a lot. Using Miniflux, I read all the blogs and get all the news, get updates from all the YouTubers and even subscribe to some Mastodon accounts (fediverse microblogs). I use multiple categories to sort the feeds. One of those categories is \u201cBlogs\u201d with all the blogs, which I also list on my blogroll.\nThe list of blogs I follow is always evolving. Sometimes I find new sites to follow, so I add their feeds to the list of subscriptions and put them into the \u201cBlogs\u201d category. Sometimes I also unsubscribe from feeds when they are inactive or if I\u2019m not that much interested into them anymore (it can have multiple reasons).\nTo keep my blogroll up-to-date and to avoid having to manually compare and adjust the list with the list from Miniflux when updating it, it is automatically created using a Hugo shortcode.\nFirst, I create an OPML export from my Miniflux subscriptions. This can be easily done by going to \u201cSubscriptions\u201d and then clicking on \u201cExport\u201d. I open the download with a text editor and remove all the categories that aren\u2019t \u201cBlogs\u201d. I copy the remaining OPML code and convert it to JSON using this tool. This JSON I store in a file named opml.json in the data folder of my Hugo-based blog.\nIn the layouts/shortcodes folder, I created a shortcode template named blogroll.html with the following content:<ul>\n    {{ $opmlJson := index .Site.Data.opml \"opml\" \"body\" \"outline\" \"outline\" }}\n    {{ range sort $opmlJson \"_title\" \"asc\" }}\n    <li><a href=\"{{ ._htmlUrl }}\" target=\"_blank\">{{ ._title }}</a></li>\n    {{ end }}\n</ul>\n\nThis shortcode is then used by adding Anil DashAral BalkanAsh FurrowBeko PharmBen CongdonBen Werdm\u00fcllerBrandon NoletChris AldrichDaniel AleksandersenDanny van KootenDavid Heinemeier HanssonDavid PrandziochDerek SiversDesmond RivetDrew DeVaultEmanuel PinaFlorian AnderiaschGarrett DimonHenrique DiasHrvoje \u0160imi\u0107James FennJamie AdamsJamie TannaJan BoddezJeff AtwoodJeremy Keith (Articles)Jeremy Keith (Journal)Jessie FrazelleJohn GruberJonathan BorichevskiyJonathan LaCourJustin VollmerKatharina NocunKev QuirkKyle PiiraLaura KalbagLukas RosenstockMatt BaerMatthias OttMatthias PfefferleMax B\u00f6ckMike KuketzNikita ProkopovNolan LawsonOwen WilliamsPaul Robert LloydPhilipp WaldhauerRahul ChowdhuryRemy SharpStanislas LangeSteven OvadiaS\u00f8ren BirkemeyerTim ChambersZugreiseblog\u017dan \u010cernein the blogroll content file.\nIn the end, all I have to do to update my blogroll is update the opml.json file and update the lastmod frontmatter parameter in the blogroll content file.\nCheck out my blogroll!"}], "category": ["Blogroll", "Hugo"], "author": [{"type": ["h-card"], "properties": {"photo": ["https://jlelse.dev/profile-512.jpg"], "name": ["Jan-Lukas Else"], "url": ["https://jlelse.dev/"], "note": ["20 years old student who writes about everything he cares about."]}, "value": "Jan-Lukas Else"}]}}], "rels": {"shortcut": ["https://jlelse.blog/favicon.ico"], "icon": ["https://jlelse.blog/favicon.ico"], "canonical": ["https://jlelse.blog/dev/auto-blogroll-hugo/"], "webmention": ["https://jlelse.blog/backend/webmention"], "authorization_endpoint": ["https://indieauth.com/auth"], "token_endpoint": ["https://tokens.indieauth.com/token"], "micropub": ["https://jlelse.blog/backend/micropub"], "pgpkey": ["https://jlelse.dev/public.key"], "authn": ["https://jlelse.dev/public.key", "mailto:login@jlelse.blog"], "me": ["mailto:login@jlelse.blog", "https://micro.blog/jlelse", "https://jlelse.dev/"], "alternate": ["https://granary.io/url?url=https://jlelse.blog/feed.json&input=jsonfeed&output=atom&hub=https://bridgy-fed.superfeedr.com/"], "home": ["https://jlelse.blog/"], "nofollow": ["https://www.addtoany.com/share#url=https%3a%2f%2fjlelse.blog%2fdev%2fauto-blogroll-hugo%2f&title=How%20I%20automatically%20create%20my%20blogroll"], "noopener": ["https://www.addtoany.com/share#url=https%3a%2f%2fjlelse.blog%2fdev%2fauto-blogroll-hugo%2f&title=How%20I%20automatically%20create%20my%20blogroll"], "tag": ["https://jlelse.blog/tags/blogroll/", "https://jlelse.blog/tags/hugo/"], "prev": ["https://jlelse.blog/dev/system-fonts/"]}, "rel-urls": {"https://jlelse.blog/favicon.ico": {"text": "", "rels": ["icon", "shortcut"]}, "https://jlelse.blog/dev/auto-blogroll-hugo/": {"text": "", "rels": ["canonical"]}, "https://jlelse.blog/backend/webmention": {"text": "", "rels": ["webmention"]}, "https://indieauth.com/auth": {"text": "", "rels": ["authorization_endpoint"]}, "https://tokens.indieauth.com/token": {"text": "", "rels": ["token_endpoint"]}, "https://jlelse.blog/backend/micropub": {"text": "", "rels": ["micropub"]}, "https://jlelse.dev/public.key": {"text": "", "rels": ["authn", "pgpkey"]}, "mailto:login@jlelse.blog": {"text": "", "rels": ["authn", "me"]}, "https://micro.blog/jlelse": {"text": "", "rels": ["me"]}, "https://granary.io/url?url=https://jlelse.blog/feed.json&input=jsonfeed&output=atom&hub=https://bridgy-fed.superfeedr.com/": {"text": "", "rels": ["alternate"], "type": "application/atom+xml"}, "https://jlelse.blog/": {"text": "jlelse's BlogThoughts, stories and ideas", "rels": ["home"], "title": "jlelse's Blog"}, "https://www.addtoany.com/share#url=https%3a%2f%2fjlelse.blog%2fdev%2fauto-blogroll-hugo%2f&title=How%20I%20automatically%20create%20my%20blogroll": {"text": "Share", "rels": ["nofollow", "noopener"]}, "https://jlelse.blog/tags/blogroll/": {"text": "Blogroll", "rels": ["tag"]}, "https://jlelse.blog/tags/hugo/": {"text": "Hugo", "rels": ["tag"]}, "https://jlelse.dev/": {"text": "Jan-Lukas Else", "rels": ["me"]}, "https://jlelse.blog/dev/system-fonts/": {"text": "PreviousUse system fonts to make your site load faster", "rels": ["prev"]}}, "debug": {"description": "mf2py - microformats2 parser for python", "source": "https://github.com/microformats/mf2py", "version": "1.1.2", "markup parser": "html5lib"}, "alternates": [{"url": "https://granary.io/url?url=https://jlelse.blog/feed.json&input=jsonfeed&output=atom&hub=https://bridgy-fed.superfeedr.com/", "text": "", "type": "application/atom+xml"}]}}